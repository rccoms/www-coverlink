<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대시보드 - [Admin] 주차안심</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body class="admin-page">
    <div class="admin-layout">
        <aside class="admin-sidebar">
            <div class="admin-sidebar-header">
                <div class="admin-sidebar-title">[Admin] 주차안심</div>
                <div class="admin-sidebar-subtitle">Push Only</div>
            </div>
            <nav class="admin-nav">
                <div class="admin-nav-section">
                    <div class="admin-nav-label">메뉴</div>
                    <a href="dashboard.html" class="admin-nav-link active">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9 22 9 12 15 12 15 22"/>
                        </svg>
                        <span>대시보드</span>
                    </a>
                    <a href="#push-graph" class="admin-nav-sublink active">푸시 성공률 그래프</a>
                    <a href="#error-monitor" class="admin-nav-sublink">실시간 에러 모니터링</a>
                </div>
                <div class="admin-nav-section">
                    <div class="admin-nav-label">회원/차량 관리</div>
                    <a href="members.html" class="admin-nav-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                        </svg>
                        <span>회원 리스트</span>
                    </a>
                    <a href="members.html#test-send" class="admin-nav-sublink">개별 테스트 발송</a>
                </div>
                <div class="admin-nav-section">
                    <div class="admin-nav-label">발송 이력</div>
                    <a href="logs.html" class="admin-nav-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                        <span>발송 이력</span>
                    </a>
                    <a href="logs.html#call-history" class="admin-nav-sublink">호출 이력 조회</a>
                    <a href="logs.html#read-check" class="admin-nav-sublink">수신 확인(읽음/안읽음)</a>
                </div>
                <div class="admin-nav-section">
                    <div class="admin-nav-label">공지사항</div>
                    <a href="announcements.html" class="admin-nav-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                        </svg>
                        <span>공지사항 발송</span>
                    </a>
                    <a href="announcements.html#full-push" class="admin-nav-sublink">전체 푸시 메시지 작성</a>
                </div>
                <div class="admin-nav-section">
                    <div class="admin-nav-label">시스템</div>
                    <a href="system-settings.html" class="admin-nav-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                        </svg>
                        <span>시스템 설정</span>
                    </a>
                    <a href="system-settings.html#force-update" class="admin-nav-sublink">앱 강제 업데이트 버전</a>
                </div>
            </nav>
            <div style="padding: 16px; border-top: 1px solid #f1f3f5;">
                <a href="../dashboard.html" class="admin-back-link" style="display: flex; align-items: center; gap: 6px;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18L9 12L15 6"/>
                    </svg>
                    <span>앱으로 돌아가기</span>
                </a>
            </div>
        </aside>

        <main class="admin-main">
            <div class="admin-header">
                <h1>대시보드</h1>
                <a href="../dashboard.html" class="admin-back-link">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 18L9 12L15 6"/>
                    </svg>
                    앱으로 돌아가기
                </a>
            </div>

            <!-- 푸시 성공률 그래프 -->
            <div class="admin-card" id="push-graph">
                <h3>푸시 성공률 그래프</h3>
                <p>최근 7일간의 푸시 알림 발송 성공률입니다.</p>
                <div class="admin-chart-placeholder">
                    <div style="text-align: center;">
                        <div style="margin-bottom: 8px;">📊 차트 영역</div>
                        <div style="font-size: 12px;">(API 연동 시 실제 데이터 표시)</div>
                    </div>
                </div>
            </div>

            <!-- 실시간 에러 모니터링 -->
            <div class="admin-card" id="error-monitor">
                <h3>실시간 에러 모니터링</h3>
                <p>앱 삭제, 토큰 만료 등 실시간 에러를 모니터링합니다.</p>
                <div class="table-wrapper" style="max-height: 320px;">
                    <table class="admin-table notification-table">
                        <thead>
                            <tr>
                                <th>발생 시간</th>
                                <th>유형</th>
                                <th>내용</th>
                                <th>회원</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2026-02-10 10:45:22</td>
                                <td><span class="token-badge expired"><span class="token-dot expired"></span>토큰만료</span></td>
                                <td>푸시 발송 실패 - 등록된 기기 토큰 만료</td>
                                <td>홍길동 (010-****-5678)</td>
                            </tr>
                            <tr>
                                <td>2026-02-10 10:38:15</td>
                                <td><span class="token-badge expired"><span class="token-dot expired"></span>앱삭제</span></td>
                                <td>기기에서 앱 삭제 감지</td>
                                <td>김철수 (010-****-1234)</td>
                            </tr>
                            <tr>
                                <td>2026-02-10 10:22:08</td>
                                <td><span class="token-badge expired"><span class="token-dot expired"></span>토큰만료</span></td>
                                <td>푸시 발송 실패 - 등록된 기기 토큰 만료</td>
                                <td>이영희 (010-****-9012)</td>
                            </tr>
                            <tr>
                                <td>2026-02-10 10:15:33</td>
                                <td><span class="token-badge normal"><span class="token-dot normal"></span>복구</span></td>
                                <td>토큰 재등록 완료</td>
                                <td>박민수 (010-****-3456)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
</body>

</html>
